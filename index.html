<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube Video Search Tool</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>üîç YouTube Video Search Tool</h1>
        
        <!-- API Key Section -->
        <div class="api-key-section">
            <h2>üîë C·∫•u h√¨nh API Key</h2>
            <div class="api-key-input-group">
                <div class="api-key-field">
                    <label for="apiKeyInput">YouTube API Key:</label>
                    <input type="password" id="apiKeyInput" placeholder="Nh·∫≠p YouTube API Key c·ªßa b·∫°n..." class="api-key-input">
                    <button id="toggleApiKey" class="toggle-btn" type="button">üëÅÔ∏è</button>
                </div>
                <div class="api-key-info">
                    <p>üí° <strong>H∆∞·ªõng d·∫´n l·∫•y API Key:</strong></p>
                    <ol>
                        <li>Truy c·∫≠p <a href="https://console.developers.google.com/" target="_blank">Google Cloud Console</a></li>
                        <li>T·∫°o project m·ªõi ho·∫∑c ch·ªçn project hi·ªán c√≥</li>
                        <li>B·∫≠t YouTube Data API v3</li>
                        <li>T·∫°o API Key trong ph·∫ßn Credentials</li>
                        <li>Copy v√† d√°n v√†o √¥ tr√™n</li>
                    </ol>
                    <p class="api-status" id="apiStatus">‚ùå Ch∆∞a nh·∫≠p API Key</p>
                </div>
            </div>
        </div>

        <!-- B∆∞·ªõc 1: T√¨m ki·∫øm v·ªõi b·ªô l·ªçc -->
        <div class="search-section">
            <h2>B∆∞·ªõc 1: T√¨m ki·∫øm video</h2>
            
            <div class="search-input-group">
                <textarea id="searchKeyword" placeholder="Nh·∫≠p t·ª´ kh√≥a t√¨m ki·∫øm (c√≥ th·ªÉ ng·∫Øt b·∫±ng xu·ªëng d√≤ng ho·∫∑c d·∫•u ph·∫©y)...
V√≠ d·ª•: 
relaxing music, rain sounds
meditation music
sleep music, nature sounds" class="search-textarea" rows="3"></textarea>
                <button id="searchBtn" class="search-btn">üîç T√¨m ki·∫øm</button>
            </div>
            
            <!-- B·ªô l·ªçc t√¨m ki·∫øm -->
            <div class="filters-section">
                <h3>B·ªô l·ªçc t√¨m ki·∫øm</h3>
                
                <div class="keyword-info">
                    <p><strong>üí° C√°ch nh·∫≠p t·ª´ kh√≥a:</strong></p>
                    <ul>
                        <li><strong>Xu·ªëng d√≤ng:</strong> M·ªói t·ª´ kh√≥a tr√™n m·ªôt d√≤ng ri√™ng</li>
                        <li><strong>D·∫•u ph·∫©y:</strong> NgƒÉn c√°ch b·∫±ng d·∫•u ph·∫©y trong c√πng d√≤ng</li>
                        <li><strong>K·∫øt h·ª£p:</strong> C√≥ th·ªÉ d√πng c·∫£ hai c√°ch c√πng l√∫c</li>
                    </ul>
                </div>
                
                <div class="filter-group">
                    <label>Ng√†y t·∫£i l√™n:</label>
                    <select id="uploadDate">
                        <option value="">T·∫•t c·∫£</option>
                        <option value="hour">M·ªôt gi·ªù qua</option>
                        <option value="today">H√¥m nay</option>
                        <option value="week">Tu·∫ßn n√†y</option>
                        <option value="month">Th√°ng n√†y</option>
                        <option value="year">NƒÉm nay</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label>Lo·∫°i:</label>
                    <select id="type">
                        <option value="video">Video</option>
                        <option value="channel">K√™nh</option>
                        <option value="playlist">Danh s√°ch ph√°t</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label>Th·ªùi l∆∞·ª£ng:</label>
                    <select id="duration">
                        <option value="">T·∫•t c·∫£</option>
                        <option value="short">D∆∞·ªõi 4 ph√∫t</option>
                        <option value="medium">4-20 ph√∫t</option>
                        <option value="long">Tr√™n 20 ph√∫t</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label>T√≠nh nƒÉng:</label>
                    <select id="features">
                        <option value="">T·∫•t c·∫£</option>
                        <option value="live">Tr·ª±c ti·∫øp</option>
                        <option value="4k">4K</option>
                        <option value="hd">HD</option>
                        <option value="cc">Ph·ª• ƒë·ªÅ</option>
                        <option value="creativeCommons">Creative Commons</option>
                        <option value="360">360¬∞</option>
                        <option value="hdr">HDR</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label>S·∫Øp x·∫øp theo:</label>
                    <select id="sortBy">
                        <option value="relevance">M·ª©c ƒë·ªô li√™n quan</option>
                        <option value="date">Ng√†y t·∫£i l√™n</option>
                        <option value="viewCount">L∆∞·ª£t xem</option>
                        <option value="rating">X·∫øp h·∫°ng</option>
                    </select>
                </div>
            </div>
        </div>
        
        <!-- B∆∞·ªõc 2: S·ªë l∆∞·ª£ng video v√† hi·ªÉn th·ªã k·∫øt qu·∫£ -->
        <div class="results-section">
            <h2>B∆∞·ªõc 2: K·∫øt qu·∫£ t√¨m ki·∫øm</h2>
            
            <div class="results-controls">
                <div class="quantity-input">
                    <label for="videoCount">S·ªë l∆∞·ª£ng video:</label>
                    <input type="number" id="videoCount" value="10" min="1" max="50" class="count-input">
                </div>
                <div class="custom-fields">
                    <div class="custom-field">
                        <label for="customDuration">Th·ªùi l∆∞·ª£ng t√πy ch·ªânh (t√πy ch·ªçn):</label>
                        <input type="text" id="customDuration" placeholder="VD: 03:46" class="custom-input">
                    </div>
                    <div class="custom-field">
                        <label for="customValue">Gi√° tr·ªã b·ªï sung (t√πy ch·ªçn):</label>
                        <input type="text" id="customValue" placeholder="VD: Rain Sounds for Sleeping" class="custom-input">
                    </div>
                    <div class="custom-field format-options">
                        <label class="format-title">Th√™m v√†o cu·ªëi t·ªïng h·ª£p:</label>
                        <div class="checkbox-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="addChannelName" class="format-checkbox">
                                <span class="checkbox-text">|t√™n k√™nh</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="addVideoTitle" class="format-checkbox">
                                <span class="checkbox-text">|t√™n video</span>
                            </label>
                        </div>
                        <small class="format-help">C√≥ th·ªÉ ch·ªçn c·∫£ hai. Th·ª© t·ª± hi·ªÉn th·ªã theo th·ª© t·ª± tick.</small>
                    </div>
                    <div class="apply-field">
                        <button id="applyBtn" class="apply-btn" disabled>üîÑ √Åp d·ª•ng</button>
                    </div>
                </div>
                <div class="button-group">
                    <button id="copySelectedBtn" class="copy-selected-btn" disabled>üìÑ Copy ƒë√£ ch·ªçn (0)</button>
                    <button id="downloadBtn" class="download-btn" disabled>üìã Copy t·∫•t c·∫£ d·ªØ li·ªáu</button>
                    <button id="copyColumn8Btn" class="copy-column8-btn" disabled>Copy c·ªôt 8</button>
                </div>
            </div>
            
            <div id="loading" class="loading hidden">
                <div class="spinner"></div>
                <p>ƒêang t√¨m ki·∫øm...</p>
            </div>
            
            <div id="results" class="results-table hidden">
                <table>
                    <thead>
                        <tr>
                            <th>STT</th>
                            <th>‚òëÔ∏è<br><input type="checkbox" id="selectAllCheckbox" class="select-all-checkbox"></th>
                            <th>C·ªôt 1<br>T·ª´ kh√≥a<br><input type="checkbox" id="includeKeyword" class="column-checkbox" checked></th>
                            <th>C·ªôt 2<br>Ti√™u ƒë·ªÅ video<br><input type="checkbox" id="includeTitle" class="column-checkbox" checked></th>
                            <th>C·ªôt 3<br>Link video (ID)<br><input type="checkbox" id="includeVideoId" class="column-checkbox" checked></th>
                            <th>C·ªôt 4<br>Link video (Full)<br><input type="checkbox" id="includeVideoUrl" class="column-checkbox" checked></th>
                            <th>C·ªôt 5<br>T√™n k√™nh<br><input type="checkbox" id="includeChannelName" class="column-checkbox" checked></th>
                            <th>C·ªôt 6<br>Link k√™nh<br><input type="checkbox" id="includeChannelUrl" class="column-checkbox" checked></th>
                            <th>C·ªôt 7<br>Th·ªùi l∆∞·ª£ng<br><input type="checkbox" id="includeDuration" class="column-checkbox" checked></th>
                            <th>C·ªôt 8<br>L∆∞·ª£t xem</th>
                            <th>C·ªôt 9<br>Comment</th>
                            <th>C·ªôt 10<br>T·ªïng h·ª£p</th>
                        </tr>
                    </thead>
                    <tbody id="resultsBody">
                    </tbody>
                </table>
            </div>
            
            <div id="error" class="error hidden">
                <p>‚ùå C√≥ l·ªói x·∫£y ra khi t√¨m ki·∫øm. Vui l√≤ng th·ª≠ l·∫°i.</p>
            </div>
        </div>
    </div>
    
    <!-- Modal hi·ªÉn th·ªã comment -->
    <div id="commentModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üí¨ Comments</h3>
                <div class="modal-header-actions">
                    <div class="comment-controls">
                        <label for="commentLimit">Hi·ªÉn th·ªã:</label>
                        <input type="number" id="commentLimit" value="50" min="10" max="500" step="10" class="comment-limit-input">
                        <button id="loadCommentsBtn" class="load-comments-btn" onclick="loadSpecificAmountComments()">üîÑ Load</button>
                    </div>
                    <button id="copyAllCommentsBtn" class="copy-all-btn" onclick="copyAllComments()">üìã Copy All (0)</button>
                    <span class="close-btn" onclick="closeCommentModal()">&times;</span>
                </div>
            </div>
            <div class="modal-body">
                <div class="video-info">
                    <h4 id="commentVideoTitle">Video Title</h4>
                    <p id="commentVideoChannel">Channel Name</p>
                </div>
                <div id="commentLoading" class="comment-loading hidden">
                    <div class="spinner"></div>
                    <p>ƒêang t·∫£i comment...</p>
                </div>
                <div id="commentList" class="comment-list">
                    <!-- Comments s·∫Ω ƒë∆∞·ª£c load ·ªü ƒë√¢y -->
                </div>
                <div id="commentError" class="comment-error hidden">
                    <p>‚ùå Kh√¥ng th·ªÉ t·∫£i comment</p>
                </div>
            </div>
        </div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>
